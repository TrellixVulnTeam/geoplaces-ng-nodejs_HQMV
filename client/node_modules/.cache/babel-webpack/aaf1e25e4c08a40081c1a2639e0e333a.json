{"ast":null,"code":"import _asyncToGenerator from \"/home/sebastian/Documentos/BBDD_NoSQL/proyectos/practica3/geoplaces/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../http/http-helper.service\";\nexport const NEAREST_KM = 2;\nexport let ItemsService = /*@__PURE__*/(() => {\n  class ItemsService {\n    constructor(httpHlp) {\n      this.httpHlp = httpHlp;\n      this.urlSaveItem = '/save_item';\n      this.urlGetItemsByCategory = '/itemslist_by_category';\n      this.urlGetNearestItems = '/nearest_places_by_distance';\n    }\n\n    saveItem(body) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const response = yield _this.httpHlp.post({\n          url: _this.urlSaveItem,\n          body: body\n        });\n        return response;\n      })();\n    }\n\n    getItemsListByCategory(category) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        const response = yield _this2.httpHlp.get({\n          url: _this2.urlGetItemsByCategory,\n          body: {\n            category: category\n          }\n        });\n        response.lugares = response.lugares.sort((a, b) => {\n          if (a['nombre'] > b['nombre']) {\n            return 1;\n          } else if (a['nombre'] < b['nombre']) {\n            return -1;\n          } else {\n            return 0;\n          }\n        });\n        return response;\n      })();\n    }\n\n    getNearestItems(lat, lng) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        console.log('latitud ' + lat);\n        console.log('longitud' + lng);\n        const response = yield _this3.httpHlp.get({\n          url: _this3.urlGetNearestItems,\n          body: {\n            latitude: lat,\n            longitude: lng,\n            distance: NEAREST_KM\n          }\n        });\n        console.log(response);\n        return response;\n      })();\n    }\n\n  }\n\n  ItemsService.ɵfac = function ItemsService_Factory(t) {\n    return new (t || ItemsService)(i0.ɵɵinject(i1.HttpHelperService));\n  };\n\n  ItemsService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ItemsService,\n    factory: ItemsService.ɵfac,\n    providedIn: 'root'\n  });\n  return ItemsService;\n})();","map":null,"metadata":{},"sourceType":"module"}